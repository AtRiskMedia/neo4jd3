{"version":3,"file":"neo4jd3.js","names":["d3","Neo4jD3","selector","_options","container","graph","info","node","nodes","relationship","relationshipOutline","relationshipOverlay","relationshipText","relationships","simulation","svg","svgNodes","svgRelationships","svgScale","svgTranslate","classes2colors","justLoaded","numClasses","options","arrowSize","colors","neo4jData","undefined","neo4jDataUrl","VERSION","init","version","merge","target","source","Object","keys","forEach","property","color","length","Math","random","defaultColor","defaultEdgeColor","contains","array","id","filter","elem","size","neo4jDataToD3Data","data","results","result","push","startNode","endNode","sort","a","b","i","linknum","_types","links","Array","from","Set","map","d","type","linkArc","r","hypot","x","y","drag","dragstarted","event","active","alphaTarget","restart","fx","fy","dragged","dragended","on","hasOwnProperty","select","attr","html","types","append","selectAll","join","forceSimulation","force","forceManyBody","strength","forceLink","forceCenter","parentElement","clientWidth","clientHeight","link","URL","location","call","text","labels","clone","lower"],"sources":["../src/scripts/neo4jd3.js"],"sourcesContent":["/* global d3, document */\n/* jshint latedef:nofunc */\n\"use strict\";\n\nimport * as d3 from \"d3\";\n\nexport default function Neo4jD3(selector, _options) {\n  var container,\n    graph,\n    info,\n    node,\n    nodes,\n    relationship,\n    relationshipOutline,\n    relationshipOverlay,\n    relationshipText,\n    relationships,\n    selector,\n    simulation,\n    svg,\n    svgNodes,\n    svgRelationships,\n    svgScale,\n    svgTranslate,\n    classes2colors = {},\n    justLoaded = false,\n    numClasses = 0,\n    options = {\n      arrowSize: 6,\n      colors: colors(),\n      neo4jData: undefined,\n      neo4jDataUrl: undefined,\n    },\n    VERSION = \"0.1.0\";\n\n  init(selector, _options);\n\n  function version() {\n    return VERSION;\n  }\n\n  function merge(target, source) {\n    Object.keys(source).forEach(function (property) {\n      target[property] = source[property];\n    });\n  }\n\n  function colors() {\n    // oneDark inspired by distrotube (dt)\n    return [\n      \"#1c1f24\", // black\n      \"#ff6c6b\", // red\n      \"#98be65\", // green\n      \"#da8548\", // yellow\n      \"#51afef\", // blue\n      \"#c678dd\", // magenta\n      \"#5699af\", // cyan\n      \"#a7b1b7\", // white\n      \"#5b6268\", // brighter black\n      \"#da8548\", // brighter red\n      \"#4db5bd\", // brighter green\n      \"#ecbe7b\", // brighter yellow\n      \"#3071db\", // brighter blue\n      \"#a9a1e1\", // brighter magenta\n      \"#46d9ff\", // brighter cyan\n      \"#dfdfdf\", // brighter white\n    ];\n  }\n\n  function color() {\n    return options.colors[(options.colors.length * Math.random()) << 0];\n  }\n  function defaultColor() {\n    return options.colors[4];\n  }\n  function defaultEdgeColor() {\n    return options.colors[12];\n  }\n\n  function contains(array, id) {\n    var filter = array.filter(function (elem) {\n      return elem.id === id;\n    });\n    return filter.length > 0;\n  }\n\n  function size() {\n    return {\n      nodes: nodes.length,\n      relationships: relationships.length,\n    };\n  }\n\n  function neo4jDataToD3Data(data) {\n    var graph = {\n      nodes: [],\n      relationships: [],\n    };\n    data.results.forEach(function (result) {\n      result.data.forEach(function (data) {\n        data.graph.nodes.forEach(function (node) {\n          if (!contains(graph.nodes, node.id)) {\n            graph.nodes.push(node);\n          }\n        });\n        data.graph.relationships.forEach(function (relationship) {\n          relationship.source = relationship.startNode;\n          relationship.target = relationship.endNode;\n          graph.relationships.push(relationship);\n        });\n        data.graph.relationships.sort(function (a, b) {\n          if (a.source > b.source) {\n            return 1;\n          } else if (a.source < b.source) {\n            return -1;\n          } else {\n            if (a.target > b.target) {\n              return 1;\n            }\n            if (a.target < b.target) {\n              return -1;\n            } else {\n              return 0;\n            }\n          }\n        });\n        for (var i = 0; i < data.graph.relationships.length; i++) {\n          if (\n            i !== 0 &&\n            data.graph.relationships[i].source ===\n              data.graph.relationships[i - 1].source &&\n            data.graph.relationships[i].target ===\n              data.graph.relationships[i - 1].target\n          ) {\n            data.graph.relationships[i].linknum =\n              data.graph.relationships[i - 1].linknum + 1;\n          } else {\n            data.graph.relationships[i].linknum = 1;\n          }\n        }\n      });\n    });\n    return graph;\n  }\n\n  function _types(links) {\n    return Array.from(new Set(links.map((d) => d.type)));\n  }\n\n  function linkArc(d) {\n    const r = Math.hypot(d.target.x - d.source.x, d.target.y - d.source.y);\n    return `\n    M${d.source.x},${d.source.y}\n    A${r},${r} 0 0,1 ${d.target.x},${d.target.y}\n  `;\n  }\n\n  function drag(simulation) {\n    function dragstarted(event, d) {\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }\n\n    function dragged(event, d) {\n      d.fx = event.x;\n      d.fy = event.y;\n    }\n\n    function dragended(event, d) {\n      if (!event.active) simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n\n    return d3\n      .drag()\n      .on(\"start\", dragstarted)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragended);\n  }\n\n  function init(selector, _options) {\n    merge(options, _options);\n    if (options.hasOwnProperty(\"neo4jData\")) {\n      const data = neo4jDataToD3Data(options.neo4jData);\n      const container = d3.select(selector);\n      container.attr(\"class\", \"neo4jd3\").html(\"\");\n\n      const links = data.relationships;\n      const nodes = data.nodes;\n      const types = _types(links);\n\n      const svg = container\n        .append(\"svg\")\n        .attr(\"width\", \"100%\")\n        .attr(\"height\", \"100%\")\n        .attr(\"class\", \"neo4jd3-graph\");\n      svg\n        .append(\"defs\")\n        .selectAll(\"marker\")\n        .data(types)\n        .join(\"marker\")\n        .attr(\"id\", (d) => `arrow-${d}`)\n        .attr(\"viewBox\", \"0 -5 10 10\")\n        .attr(\"refX\", 15)\n        .attr(\"refY\", -0.5)\n        .attr(\"markerWidth\", 6)\n        .attr(\"markerHeight\", 6)\n        .attr(\"orient\", \"auto\")\n        .append(\"path\")\n        .attr(\"fill\", defaultEdgeColor())\n        .attr(\"d\", \"M0,-5L10,0L0,5\");\n\n      const simulation = d3\n        .forceSimulation(nodes)\n        .force(\"charge\", d3.forceManyBody().strength(-200))\n        .force(\n          \"link\",\n          d3.forceLink(links).id(function (d) {\n            return d.id;\n          })\n        )\n        .force(\n          \"center\",\n          d3.forceCenter(\n            svg.node().parentElement.parentElement.clientWidth / 2,\n            svg.node().parentElement.parentElement.clientHeight / 2\n          )\n        );\n\n      const link = svg\n        .append(\"g\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke-width\", 1.5)\n        .selectAll(\"path\")\n        .data(links)\n        .join(\"path\")\n        .attr(\"stroke\", (d) => defaultEdgeColor())\n        .attr(\n          \"marker-end\",\n          (d) => `url(${new URL(`#arrow-${d.type}`, location)})`\n        );\n\n      const node = svg\n        .append(\"g\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"cursor\", \"pointer\")\n        .selectAll(\"g\")\n        .data(nodes)\n        .join(\"g\")\n        .call(drag(simulation));\n      node\n        .append(\"circle\")\n        .attr(\"stroke\", \"white\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"r\", 4);\n      node\n        .append(\"text\")\n        .attr(\"x\", 8)\n        .attr(\"y\", \"0.31em\")\n        .text((d) => d.labels.hasOwnProperty(\"0\") && d.labels[0])\n        .clone(true)\n        .lower()\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"white\")\n        .attr(\"stroke-width\", 3);\n\n      simulation.on(\"tick\", function () {\n        link.attr(\"d\", linkArc);\n        node.attr(\"transform\", (d) => `translate(${d.x},${d.y})`);\n      });\n    }\n  }\n\n  return {\n    neo4jDataToD3Data: neo4jDataToD3Data,\n    size: size,\n    version: version,\n  };\n}\n"],"mappings":"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"}