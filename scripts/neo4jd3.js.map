{"version":3,"file":"neo4jd3.js","names":["Neo4jD3","_selector","_options","container","graph","info","node","nodes","relationship","relationshipOutline","relationshipOverlay","relationshipText","relationships","selector","simulation","svg","svgNodes","svgRelationships","svgScale","svgTranslate","classes2colors","justLoaded","numClasses","options","arrowSize","colors","highlight","undefined","iconMap","fontAwesomeIcons","icons","imageMap","images","infoPanel","minCollision","neo4jData","neo4jDataUrl","nodeOutlineFillColor","nodeRadius","relationshipColor","zoomFit","VERSION","appendGraph","append","attr","call","d3","zoom","on","scale","event","transform","k","translate","x","y","appendImageToNode","d","icon","image","appendInfoPanel","appendInfoElement","cls","isNode","property","value","elem","html","style","class2color","defaultColor","class2darkenColor","defaultDarkenColor","appendInfoElementClass","appendInfoElementProperty","appendInfoElementRelationship","appendNode","enter","i","classes","label","labels","length","class","properties","fx","fy","onNodeClick","stickNode","onNodeDoubleClick","updateInfo","onNodeMouseEnter","clearInfo","onNodeMouseLeave","drag","dragStarted","dragged","dragEnded","appendNodeToGraph","n","appendRingToNode","appendOutlineToNode","appendTextToNode","text","toString","parseInt","Math","round","_icon","id","appendRandomDataToNode","maxNodesToGenerate","data","randomD3Data","updateWithNeo4jData","appendRelationship","onRelationshipDoubleClick","appendOutlineToRelationship","r","appendOverlayToRelationship","appendTextToRelationship","type","appendRelationshipToGraph","outline","overlay","color","rgb","darker","random","contains","array","filter","active","alphaTarget","onNodeDragEnd","restart","onNodeDragStart","extend","obj1","obj2","obj","merge","code","showIcons","imagesForLabel","img","imgLevel","labelPropertyValue","split","init","initIconMap","initImageMap","select","initSimulation","loadNeo4jData","loadNeo4jDataFromUrl","console","error","Object","keys","forEach","key","index","hasOwnProperty","push","forceSimulation","force","forceCollide","radius","iterations","forceManyBody","forceLink","forceCenter","parentElement","clientWidth","clientHeight","tick","json","target","source","neo4jDataToD3Data","results","result","startNode","endNode","sort","a","b","linknum","numNodes","s","size","randomLabel","toUpperCase","from","Date","now","rotate","cx","cy","angle","radians","PI","cos","sin","nx","ny","rotatePoint","c","p","rotation","atan2","tickNodes","tickRelationships","tickRelationshipsTexts","tickRelationshipsOutlines","tickRelationshipsOverlays","each","rel","bbox","getBBox","padding","center","textBoundingBox","textPadding","u","unitaryVector","textMargin","width","unitaryNormalVector","rotatedPointA1","rotatedPointB1","rotatedPointC1","rotatedPointD1","rotatedPointA2","rotatedPointB2","rotatedPointC2","rotatedPointD2","rotatedPointE2","rotatedPointF2","rotatedPointG2","n1","rotatedPointA","rotatedPointB","rotatedPointC","rotatedPointD","mirror","nWeight","point","rotatedPoint","JSON","stringify","newLength","vector","sqrt","pow","updateWithD3Data","d3Data","updateNodesAndRelationships","updateNodes","Array","prototype","apply","selectAll","nodeEnter","updateRelationships","links","relationshipEnter","version","transitionDuration","bounds","parent","fullWidth","fullHeight","height","midX","midY","max","module","exports"],"sources":["../src/scripts/neo4jd3.js"],"sourcesContent":["/* global d3, document */\n/* jshint latedef:nofunc */\n'use strict';\n\nfunction Neo4jD3(_selector, _options) {\n  var container, graph, info, node, nodes, relationship, relationshipOutline, relationshipOverlay, relationshipText, relationships, selector, simulation, svg, svgNodes, svgRelationships, svgScale, svgTranslate,\n    classes2colors = {},\n    justLoaded = false,\n    numClasses = 0,\n    options = {\n      arrowSize: 4,\n      colors: colors(),\n      highlight: undefined,\n      iconMap: fontAwesomeIcons(),\n      icons: undefined,\n      imageMap: {},\n      images: undefined,\n      infoPanel: true,\n      minCollision: undefined,\n      neo4jData: undefined,\n      neo4jDataUrl: undefined,\n      nodeOutlineFillColor: undefined,\n      nodeRadius: 25,\n      relationshipColor: '#a5abb6',\n      zoomFit: false\n    },\n    VERSION = '0.0.1';\n\n  function appendGraph(container) {\n    svg = container.append('svg')\n             .attr('width', '100%')\n             .attr('height', '100%')\n             .attr('class', 'neo4jd3-graph')\n             .call(d3.zoom().on('zoom', function() {\n               var scale = d3.event.transform.k,\n                 translate = [d3.event.transform.x, d3.event.transform.y];\n\n               if (svgTranslate) {\n                 translate[0] += svgTranslate[0];\n                 translate[1] += svgTranslate[1];\n               }\n\n               if (svgScale) {\n                 scale *= svgScale;\n               }\n\n               svg.attr('transform', 'translate(' + translate[0] + ', ' + translate[1] + ') scale(' + scale + ')');\n             }))\n             .on('dblclick.zoom', null)\n             .append('g')\n             .attr('width', '100%')\n             .attr('height', '100%');\n\n    svgRelationships = svg.append('g')\n                .attr('class', 'relationships');\n\n    svgNodes = svg.append('g')\n            .attr('class', 'nodes');\n  }\n\n  function appendImageToNode(node) {\n    return node.append('image')\n           .attr('height', function(d) {\n             return icon(d) ? '24px': '30px';\n           })\n           .attr('x', function(d) {\n             return icon(d) ? '5px': '-15px';\n           })\n           .attr('xlink:href', function(d) {\n             return image(d);\n           })\n           .attr('y', function(d) {\n             return icon(d) ? '5px': '-16px';\n           })\n           .attr('width', function(d) {\n             return icon(d) ? '24px': '30px';\n           });\n  }\n\n  function appendInfoPanel(container) {\n    return container.append('div')\n            .attr('class', 'neo4jd3-info');\n  }\n\n  function appendInfoElement(cls, isNode, property, value) {\n    var elem = info.append('a');\n\n    elem.attr('href', '#')\n      .attr('class', cls)\n      .html('<strong>' + property + '</strong>' + (value ? (': ' + value) : ''));\n\n    if (!value) {\n      elem.style('background-color', function(d) {\n          return options.nodeOutlineFillColor ? options.nodeOutlineFillColor : (isNode ? class2color(property) : defaultColor());\n        })\n        .style('border-color', function(d) {\n          return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : (isNode ? class2darkenColor(property) : defaultDarkenColor());\n        })\n        .style('color', function(d) {\n          return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : '#fff';\n        });\n    }\n  }\n\n  function appendInfoElementClass(cls, node) {\n    appendInfoElement(cls, true, node);\n  }\n\n  function appendInfoElementProperty(cls, property, value) {\n    appendInfoElement(cls, false, property, value);\n  }\n\n  function appendInfoElementRelationship(cls, relationship) {\n    appendInfoElement(cls, false, relationship);\n  }\n\n  function appendNode() {\n    return node.enter()\n           .append('g')\n           .attr('class', function(d) {\n             var highlight, i,\n               classes = 'node',\n               label = d.labels[0];\n\n             if (icon(d)) {\n               classes += ' node-icon';\n             }\n\n             if (image(d)) {\n               classes += ' node-image';\n             }\n\n             if (options.highlight) {\n               for (i = 0; i < options.highlight.length; i++) {\n                 highlight = options.highlight[i];\n\n                 if (d.labels[0] === highlight.class && d.properties[highlight.property] === highlight.value) {\n                   classes += ' node-highlighted';\n                   break;\n                 }\n               }\n             }\n\n             return classes;\n           })\n           .on('click', function(d) {\n             d.fx = d.fy = null;\n\n             if (typeof options.onNodeClick === 'function') {\n               options.onNodeClick(d);\n             }\n           })\n           .on('dblclick', function(d) {\n             stickNode(d);\n\n             if (typeof options.onNodeDoubleClick === 'function') {\n               options.onNodeDoubleClick(d);\n             }\n           })\n           .on('mouseenter', function(d) {\n             if (info) {\n               updateInfo(d);\n             }\n\n             if (typeof options.onNodeMouseEnter === 'function') {\n               options.onNodeMouseEnter(d);\n             }\n           })\n           .on('mouseleave', function(d) {\n             if (info) {\n               clearInfo(d);\n             }\n\n             if (typeof options.onNodeMouseLeave === 'function') {\n               options.onNodeMouseLeave(d);\n             }\n           })\n           .call(d3.drag()\n               .on('start', dragStarted)\n               .on('drag', dragged)\n               .on('end', dragEnded));\n  }\n\n  function appendNodeToGraph() {\n    var n = appendNode();\n\n    appendRingToNode(n);\n    appendOutlineToNode(n);\n\n    if (options.icons) {\n      appendTextToNode(n);\n    }\n\n    if (options.images) {\n      appendImageToNode(n);\n    }\n\n    return n;\n  }\n\n  function appendOutlineToNode(node) {\n    return node.append('circle')\n           .attr('class', 'outline')\n           .attr('r', options.nodeRadius)\n           .style('fill', function(d) {\n             return options.nodeOutlineFillColor ? options.nodeOutlineFillColor : class2color(d.labels[0]);\n           })\n           .style('stroke', function(d) {\n             return options.nodeOutlineFillColor ? class2darkenColor(options.nodeOutlineFillColor) : class2darkenColor(d.labels[0]);\n           })\n           .append('title').text(function(d) {\n             return toString(d);\n           });\n  }\n\n  function appendRingToNode(node) {\n    return node.append('circle')\n           .attr('class', 'ring')\n           .attr('r', options.nodeRadius * 1.16)\n           .append('title').text(function(d) {\n             return toString(d);\n           });\n  }\n\n  function appendTextToNode(node) {\n    return node.append('text')\n           .attr('class', function(d) {\n             return 'text' + (icon(d) ? ' icon' : '');\n           })\n           .attr('fill', '#ffffff')\n           .attr('font-size', function(d) {\n             return icon(d) ? (options.nodeRadius + 'px') : '10px';\n           })\n           .attr('pointer-events', 'none')\n           .attr('text-anchor', 'middle')\n           .attr('y', function(d) {\n             return icon(d) ? (parseInt(Math.round(options.nodeRadius * 0.32)) + 'px') : '4px';\n           })\n           .html(function(d) {\n             var _icon = icon(d);\n             return _icon ? '&#x' + _icon : d.id;\n           });\n  }\n\n  function appendRandomDataToNode(d, maxNodesToGenerate) {\n    var data = randomD3Data(d, maxNodesToGenerate);\n    updateWithNeo4jData(data);\n  }\n\n  function appendRelationship() {\n    return relationship.enter()\n               .append('g')\n               .attr('class', 'relationship')\n               .on('dblclick', function(d) {\n                 if (typeof options.onRelationshipDoubleClick === 'function') {\n                   options.onRelationshipDoubleClick(d);\n                 }\n               })\n               .on('mouseenter', function(d) {\n                 if (info) {\n                   updateInfo(d);\n                 }\n               });\n  }\n\n  function appendOutlineToRelationship(r) {\n    return r.append('path')\n        .attr('class', 'outline')\n        .attr('fill', '#a5abb6')\n        .attr('stroke', 'none');\n  }\n\n  function appendOverlayToRelationship(r) {\n    return r.append('path')\n        .attr('class', 'overlay');\n  }\n\n  function appendTextToRelationship(r) {\n    return r.append('text')\n        .attr('class', 'text')\n        .attr('fill', '#000000')\n        .attr('font-size', '8px')\n        .attr('pointer-events', 'none')\n        .attr('text-anchor', 'middle')\n        .text(function(d) {\n          return d.type;\n        });\n  }\n\n  function appendRelationshipToGraph() {\n    var relationship = appendRelationship(),\n      text = appendTextToRelationship(relationship),\n      outline = appendOutlineToRelationship(relationship),\n      overlay = appendOverlayToRelationship(relationship);\n\n    return {\n      outline: outline,\n      overlay: overlay,\n      relationship: relationship,\n      text: text\n    };\n  }\n\n  function class2color(cls) {\n    var color = classes2colors[cls];\n\n    if (!color) {\n//      color = options.colors[Math.min(numClasses, options.colors.length - 1)];\n      color = options.colors[numClasses % options.colors.length];\n      classes2colors[cls] = color;\n      numClasses++;\n    }\n\n    return color;\n  }\n\n  function class2darkenColor(cls) {\n    return d3.rgb(class2color(cls)).darker(1);\n  }\n\n  function clearInfo() {\n    info.html('');\n  }\n\n  function color() {\n    return options.colors[options.colors.length * Math.random() << 0];\n  }\n\n  function colors() {\n    // d3.schemeCategory10,\n    // d3.schemeCategory20,\n    return [\n      '#68bdf6', // light blue\n      '#6dce9e', // green #1\n      '#faafc2', // light pink\n      '#f2baf6', // purple\n      '#ff928c', // light red\n      '#fcea7e', // light yellow\n      '#ffc766', // light orange\n      '#405f9e', // navy blue\n      '#a5abb6', // dark gray\n      '#78cecb', // green #2,\n      '#b88cbb', // dark purple\n      '#ced2d9', // light gray\n      '#e84646', // dark red\n      '#fa5f86', // dark pink\n      '#ffab1a', // dark orange\n      '#fcda19', // dark yellow\n      '#797b80', // black\n      '#c9d96f', // pistacchio\n      '#47991f', // green #3\n      '#70edee', // turquoise\n      '#ff75ea'  // pink\n    ];\n  }\n\n  function contains(array, id) {\n    var filter = array.filter(function(elem) {\n      return elem.id === id;\n    });\n\n    return filter.length > 0;\n  }\n\n  function defaultColor() {\n    return options.relationshipColor;\n  }\n\n  function defaultDarkenColor() {\n    return d3.rgb(options.colors[options.colors.length - 1]).darker(1);\n  }\n\n  function dragEnded(d) {\n    if (!d3.event.active) {\n      simulation.alphaTarget(0);\n    }\n\n    if (typeof options.onNodeDragEnd === 'function') {\n      options.onNodeDragEnd(d);\n    }\n  }\n\n  function dragged(d) {\n    stickNode(d);\n  }\n\n  function dragStarted(d) {\n    if (!d3.event.active) {\n      simulation.alphaTarget(0.3).restart();\n    }\n\n    d.fx = d.x;\n    d.fy = d.y;\n\n    if (typeof options.onNodeDragStart === 'function') {\n      options.onNodeDragStart(d);\n    }\n  }\n\n  function extend(obj1, obj2) {\n    var obj = {};\n\n    merge(obj, obj1);\n    merge(obj, obj2);\n\n    return obj;\n  }\n\n  function fontAwesomeIcons() {\n    return {'glass':'f000','music':'f001','search':'f002','envelope-o':'f003','heart':'f004','star':'f005','star-o':'f006','user':'f007','film':'f008','th-large':'f009','th':'f00a','th-list':'f00b','check':'f00c','remove,close,times':'f00d','search-plus':'f00e','search-minus':'f010','power-off':'f011','signal':'f012','gear,cog':'f013','trash-o':'f014','home':'f015','file-o':'f016','clock-o':'f017','road':'f018','download':'f019','arrow-circle-o-down':'f01a','arrow-circle-o-up':'f01b','inbox':'f01c','play-circle-o':'f01d','rotate-right,repeat':'f01e','refresh':'f021','list-alt':'f022','lock':'f023','flag':'f024','headphones':'f025','volume-off':'f026','volume-down':'f027','volume-up':'f028','qrcode':'f029','barcode':'f02a','tag':'f02b','tags':'f02c','book':'f02d','bookmark':'f02e','print':'f02f','camera':'f030','font':'f031','bold':'f032','italic':'f033','text-height':'f034','text-width':'f035','align-left':'f036','align-center':'f037','align-right':'f038','align-justify':'f039','list':'f03a','dedent,outdent':'f03b','indent':'f03c','video-camera':'f03d','photo,image,picture-o':'f03e','pencil':'f040','map-marker':'f041','adjust':'f042','tint':'f043','edit,pencil-square-o':'f044','share-square-o':'f045','check-square-o':'f046','arrows':'f047','step-backward':'f048','fast-backward':'f049','backward':'f04a','play':'f04b','pause':'f04c','stop':'f04d','forward':'f04e','fast-forward':'f050','step-forward':'f051','eject':'f052','chevron-left':'f053','chevron-right':'f054','plus-circle':'f055','minus-circle':'f056','times-circle':'f057','check-circle':'f058','question-circle':'f059','info-circle':'f05a','crosshairs':'f05b','times-circle-o':'f05c','check-circle-o':'f05d','ban':'f05e','arrow-left':'f060','arrow-right':'f061','arrow-up':'f062','arrow-down':'f063','mail-forward,share':'f064','expand':'f065','compress':'f066','plus':'f067','minus':'f068','asterisk':'f069','exclamation-circle':'f06a','gift':'f06b','leaf':'f06c','fire':'f06d','eye':'f06e','eye-slash':'f070','warning,exclamation-triangle':'f071','plane':'f072','calendar':'f073','random':'f074','comment':'f075','magnet':'f076','chevron-up':'f077','chevron-down':'f078','retweet':'f079','shopping-cart':'f07a','folder':'f07b','folder-open':'f07c','arrows-v':'f07d','arrows-h':'f07e','bar-chart-o,bar-chart':'f080','twitter-square':'f081','facebook-square':'f082','camera-retro':'f083','key':'f084','gears,cogs':'f085','comments':'f086','thumbs-o-up':'f087','thumbs-o-down':'f088','star-half':'f089','heart-o':'f08a','sign-out':'f08b','linkedin-square':'f08c','thumb-tack':'f08d','external-link':'f08e','sign-in':'f090','trophy':'f091','github-square':'f092','upload':'f093','lemon-o':'f094','phone':'f095','square-o':'f096','bookmark-o':'f097','phone-square':'f098','twitter':'f099','facebook-f,facebook':'f09a','github':'f09b','unlock':'f09c','credit-card':'f09d','feed,rss':'f09e','hdd-o':'f0a0','bullhorn':'f0a1','bell':'f0f3','certificate':'f0a3','hand-o-right':'f0a4','hand-o-left':'f0a5','hand-o-up':'f0a6','hand-o-down':'f0a7','arrow-circle-left':'f0a8','arrow-circle-right':'f0a9','arrow-circle-up':'f0aa','arrow-circle-down':'f0ab','globe':'f0ac','wrench':'f0ad','tasks':'f0ae','filter':'f0b0','briefcase':'f0b1','arrows-alt':'f0b2','group,users':'f0c0','chain,link':'f0c1','cloud':'f0c2','flask':'f0c3','cut,scissors':'f0c4','copy,files-o':'f0c5','paperclip':'f0c6','save,floppy-o':'f0c7','square':'f0c8','navicon,reorder,bars':'f0c9','list-ul':'f0ca','list-ol':'f0cb','strikethrough':'f0cc','underline':'f0cd','table':'f0ce','magic':'f0d0','truck':'f0d1','pinterest':'f0d2','pinterest-square':'f0d3','google-plus-square':'f0d4','google-plus':'f0d5','money':'f0d6','caret-down':'f0d7','caret-up':'f0d8','caret-left':'f0d9','caret-right':'f0da','columns':'f0db','unsorted,sort':'f0dc','sort-down,sort-desc':'f0dd','sort-up,sort-asc':'f0de','envelope':'f0e0','linkedin':'f0e1','rotate-left,undo':'f0e2','legal,gavel':'f0e3','dashboard,tachometer':'f0e4','comment-o':'f0e5','comments-o':'f0e6','flash,bolt':'f0e7','sitemap':'f0e8','umbrella':'f0e9','paste,clipboard':'f0ea','lightbulb-o':'f0eb','exchange':'f0ec','cloud-download':'f0ed','cloud-upload':'f0ee','user-md':'f0f0','stethoscope':'f0f1','suitcase':'f0f2','bell-o':'f0a2','coffee':'f0f4','cutlery':'f0f5','file-text-o':'f0f6','building-o':'f0f7','hospital-o':'f0f8','ambulance':'f0f9','medkit':'f0fa','fighter-jet':'f0fb','beer':'f0fc','h-square':'f0fd','plus-square':'f0fe','angle-double-left':'f100','angle-double-right':'f101','angle-double-up':'f102','angle-double-down':'f103','angle-left':'f104','angle-right':'f105','angle-up':'f106','angle-down':'f107','desktop':'f108','laptop':'f109','tablet':'f10a','mobile-phone,mobile':'f10b','circle-o':'f10c','quote-left':'f10d','quote-right':'f10e','spinner':'f110','circle':'f111','mail-reply,reply':'f112','github-alt':'f113','folder-o':'f114','folder-open-o':'f115','smile-o':'f118','frown-o':'f119','meh-o':'f11a','gamepad':'f11b','keyboard-o':'f11c','flag-o':'f11d','flag-checkered':'f11e','terminal':'f120','code':'f121','mail-reply-all,reply-all':'f122','star-half-empty,star-half-full,star-half-o':'f123','location-arrow':'f124','crop':'f125','code-fork':'f126','unlink,chain-broken':'f127','question':'f128','info':'f129','exclamation':'f12a','superscript':'f12b','subscript':'f12c','eraser':'f12d','puzzle-piece':'f12e','microphone':'f130','microphone-slash':'f131','shield':'f132','calendar-o':'f133','fire-extinguisher':'f134','rocket':'f135','maxcdn':'f136','chevron-circle-left':'f137','chevron-circle-right':'f138','chevron-circle-up':'f139','chevron-circle-down':'f13a','html5':'f13b','css3':'f13c','anchor':'f13d','unlock-alt':'f13e','bullseye':'f140','ellipsis-h':'f141','ellipsis-v':'f142','rss-square':'f143','play-circle':'f144','ticket':'f145','minus-square':'f146','minus-square-o':'f147','level-up':'f148','level-down':'f149','check-square':'f14a','pencil-square':'f14b','external-link-square':'f14c','share-square':'f14d','compass':'f14e','toggle-down,caret-square-o-down':'f150','toggle-up,caret-square-o-up':'f151','toggle-right,caret-square-o-right':'f152','euro,eur':'f153','gbp':'f154','dollar,usd':'f155','rupee,inr':'f156','cny,rmb,yen,jpy':'f157','ruble,rouble,rub':'f158','won,krw':'f159','bitcoin,btc':'f15a','file':'f15b','file-text':'f15c','sort-alpha-asc':'f15d','sort-alpha-desc':'f15e','sort-amount-asc':'f160','sort-amount-desc':'f161','sort-numeric-asc':'f162','sort-numeric-desc':'f163','thumbs-up':'f164','thumbs-down':'f165','youtube-square':'f166','youtube':'f167','xing':'f168','xing-square':'f169','youtube-play':'f16a','dropbox':'f16b','stack-overflow':'f16c','instagram':'f16d','flickr':'f16e','adn':'f170','bitbucket':'f171','bitbucket-square':'f172','tumblr':'f173','tumblr-square':'f174','long-arrow-down':'f175','long-arrow-up':'f176','long-arrow-left':'f177','long-arrow-right':'f178','apple':'f179','windows':'f17a','android':'f17b','linux':'f17c','dribbble':'f17d','skype':'f17e','foursquare':'f180','trello':'f181','female':'f182','male':'f183','gittip,gratipay':'f184','sun-o':'f185','moon-o':'f186','archive':'f187','bug':'f188','vk':'f189','weibo':'f18a','renren':'f18b','pagelines':'f18c','stack-exchange':'f18d','arrow-circle-o-right':'f18e','arrow-circle-o-left':'f190','toggle-left,caret-square-o-left':'f191','dot-circle-o':'f192','wheelchair':'f193','vimeo-square':'f194','turkish-lira,try':'f195','plus-square-o':'f196','space-shuttle':'f197','slack':'f198','envelope-square':'f199','wordpress':'f19a','openid':'f19b','institution,bank,university':'f19c','mortar-board,graduation-cap':'f19d','yahoo':'f19e','google':'f1a0','reddit':'f1a1','reddit-square':'f1a2','stumbleupon-circle':'f1a3','stumbleupon':'f1a4','delicious':'f1a5','digg':'f1a6','pied-piper-pp':'f1a7','pied-piper-alt':'f1a8','drupal':'f1a9','joomla':'f1aa','language':'f1ab','fax':'f1ac','building':'f1ad','child':'f1ae','paw':'f1b0','spoon':'f1b1','cube':'f1b2','cubes':'f1b3','behance':'f1b4','behance-square':'f1b5','steam':'f1b6','steam-square':'f1b7','recycle':'f1b8','automobile,car':'f1b9','cab,taxi':'f1ba','tree':'f1bb','spotify':'f1bc','deviantart':'f1bd','soundcloud':'f1be','database':'f1c0','file-pdf-o':'f1c1','file-word-o':'f1c2','file-excel-o':'f1c3','file-powerpoint-o':'f1c4','file-photo-o,file-picture-o,file-image-o':'f1c5','file-zip-o,file-archive-o':'f1c6','file-sound-o,file-audio-o':'f1c7','file-movie-o,file-video-o':'f1c8','file-code-o':'f1c9','vine':'f1ca','codepen':'f1cb','jsfiddle':'f1cc','life-bouy,life-buoy,life-saver,support,life-ring':'f1cd','circle-o-notch':'f1ce','ra,resistance,rebel':'f1d0','ge,empire':'f1d1','git-square':'f1d2','git':'f1d3','y-combinator-square,yc-square,hacker-news':'f1d4','tencent-weibo':'f1d5','qq':'f1d6','wechat,weixin':'f1d7','send,paper-plane':'f1d8','send-o,paper-plane-o':'f1d9','history':'f1da','circle-thin':'f1db','header':'f1dc','paragraph':'f1dd','sliders':'f1de','share-alt':'f1e0','share-alt-square':'f1e1','bomb':'f1e2','soccer-ball-o,futbol-o':'f1e3','tty':'f1e4','binoculars':'f1e5','plug':'f1e6','slideshare':'f1e7','twitch':'f1e8','yelp':'f1e9','newspaper-o':'f1ea','wifi':'f1eb','calculator':'f1ec','paypal':'f1ed','google-wallet':'f1ee','cc-visa':'f1f0','cc-mastercard':'f1f1','cc-discover':'f1f2','cc-amex':'f1f3','cc-paypal':'f1f4','cc-stripe':'f1f5','bell-slash':'f1f6','bell-slash-o':'f1f7','trash':'f1f8','copyright':'f1f9','at':'f1fa','eyedropper':'f1fb','paint-brush':'f1fc','birthday-cake':'f1fd','area-chart':'f1fe','pie-chart':'f200','line-chart':'f201','lastfm':'f202','lastfm-square':'f203','toggle-off':'f204','toggle-on':'f205','bicycle':'f206','bus':'f207','ioxhost':'f208','angellist':'f209','cc':'f20a','shekel,sheqel,ils':'f20b','meanpath':'f20c','buysellads':'f20d','connectdevelop':'f20e','dashcube':'f210','forumbee':'f211','leanpub':'f212','sellsy':'f213','shirtsinbulk':'f214','simplybuilt':'f215','skyatlas':'f216','cart-plus':'f217','cart-arrow-down':'f218','diamond':'f219','ship':'f21a','user-secret':'f21b','motorcycle':'f21c','street-view':'f21d','heartbeat':'f21e','venus':'f221','mars':'f222','mercury':'f223','intersex,transgender':'f224','transgender-alt':'f225','venus-double':'f226','mars-double':'f227','venus-mars':'f228','mars-stroke':'f229','mars-stroke-v':'f22a','mars-stroke-h':'f22b','neuter':'f22c','genderless':'f22d','facebook-official':'f230','pinterest-p':'f231','whatsapp':'f232','server':'f233','user-plus':'f234','user-times':'f235','hotel,bed':'f236','viacoin':'f237','train':'f238','subway':'f239','medium':'f23a','yc,y-combinator':'f23b','optin-monster':'f23c','opencart':'f23d','expeditedssl':'f23e','battery-4,battery-full':'f240','battery-3,battery-three-quarters':'f241','battery-2,battery-half':'f242','battery-1,battery-quarter':'f243','battery-0,battery-empty':'f244','mouse-pointer':'f245','i-cursor':'f246','object-group':'f247','object-ungroup':'f248','sticky-note':'f249','sticky-note-o':'f24a','cc-jcb':'f24b','cc-diners-club':'f24c','clone':'f24d','balance-scale':'f24e','hourglass-o':'f250','hourglass-1,hourglass-start':'f251','hourglass-2,hourglass-half':'f252','hourglass-3,hourglass-end':'f253','hourglass':'f254','hand-grab-o,hand-rock-o':'f255','hand-stop-o,hand-paper-o':'f256','hand-scissors-o':'f257','hand-lizard-o':'f258','hand-spock-o':'f259','hand-pointer-o':'f25a','hand-peace-o':'f25b','trademark':'f25c','registered':'f25d','creative-commons':'f25e','gg':'f260','gg-circle':'f261','tripadvisor':'f262','odnoklassniki':'f263','odnoklassniki-square':'f264','get-pocket':'f265','wikipedia-w':'f266','safari':'f267','chrome':'f268','firefox':'f269','opera':'f26a','internet-explorer':'f26b','tv,television':'f26c','contao':'f26d','500px':'f26e','amazon':'f270','calendar-plus-o':'f271','calendar-minus-o':'f272','calendar-times-o':'f273','calendar-check-o':'f274','industry':'f275','map-pin':'f276','map-signs':'f277','map-o':'f278','map':'f279','commenting':'f27a','commenting-o':'f27b','houzz':'f27c','vimeo':'f27d','black-tie':'f27e','fonticons':'f280','reddit-alien':'f281','edge':'f282','credit-card-alt':'f283','codiepie':'f284','modx':'f285','fort-awesome':'f286','usb':'f287','product-hunt':'f288','mixcloud':'f289','scribd':'f28a','pause-circle':'f28b','pause-circle-o':'f28c','stop-circle':'f28d','stop-circle-o':'f28e','shopping-bag':'f290','shopping-basket':'f291','hashtag':'f292','bluetooth':'f293','bluetooth-b':'f294','percent':'f295','gitlab':'f296','wpbeginner':'f297','wpforms':'f298','envira':'f299','universal-access':'f29a','wheelchair-alt':'f29b','question-circle-o':'f29c','blind':'f29d','audio-description':'f29e','volume-control-phone':'f2a0','braille':'f2a1','assistive-listening-systems':'f2a2','asl-interpreting,american-sign-language-interpreting':'f2a3','deafness,hard-of-hearing,deaf':'f2a4','glide':'f2a5','glide-g':'f2a6','signing,sign-language':'f2a7','low-vision':'f2a8','viadeo':'f2a9','viadeo-square':'f2aa','snapchat':'f2ab','snapchat-ghost':'f2ac','snapchat-square':'f2ad','pied-piper':'f2ae','first-order':'f2b0','yoast':'f2b1','themeisle':'f2b2','google-plus-circle,google-plus-official':'f2b3','fa,font-awesome':'f2b4'};\n  }\n\n  function icon(d) {\n    var code;\n\n    if (options.iconMap && options.showIcons && options.icons) {\n      if (options.icons[d.labels[0]] && options.iconMap[options.icons[d.labels[0]]]) {\n        code = options.iconMap[options.icons[d.labels[0]]];\n      } else if (options.iconMap[d.labels[0]]) {\n        code = options.iconMap[d.labels[0]];\n      } else if (options.icons[d.labels[0]]) {\n        code = options.icons[d.labels[0]];\n      }\n    }\n\n    return code;\n  }\n\n  function image(d) {\n    var i, imagesForLabel, img, imgLevel, label, labelPropertyValue, property, value;\n\n    if (options.images) {\n      imagesForLabel = options.imageMap[d.labels[0]];\n\n      if (imagesForLabel) {\n        imgLevel = 0;\n\n        for (i = 0; i < imagesForLabel.length; i++) {\n          labelPropertyValue = imagesForLabel[i].split('|');\n\n          switch (labelPropertyValue.length) {\n            case 3:\n            value = labelPropertyValue[2];\n            /* falls through */\n            case 2:\n            property = labelPropertyValue[1];\n            /* falls through */\n            case 1:\n            label = labelPropertyValue[0];\n          }\n\n          if (d.labels[0] === label &&\n            (!property || d.properties[property] !== undefined) &&\n            (!value || d.properties[property] === value)) {\n            if (labelPropertyValue.length > imgLevel) {\n              img = options.images[imagesForLabel[i]];\n              imgLevel = labelPropertyValue.length;\n            }\n          }\n        }\n      }\n    }\n\n    return img;\n  }\n\n  function init(_selector, _options) {\n    initIconMap();\n\n    merge(options, _options);\n\n    if (options.icons) {\n      options.showIcons = true;\n    }\n\n    if (!options.minCollision) {\n      options.minCollision = options.nodeRadius * 2;\n    }\n\n    initImageMap();\n\n    selector = _selector;\n\n    container = d3.select(selector);\n\n    container.attr('class', 'neo4jd3')\n         .html('');\n\n    if (options.infoPanel) {\n      info = appendInfoPanel(container);\n    }\n\n    appendGraph(container);\n\n    simulation = initSimulation();\n\n    if (options.neo4jData) {\n      loadNeo4jData(options.neo4jData);\n    } else if (options.neo4jDataUrl) {\n      loadNeo4jDataFromUrl(options.neo4jDataUrl);\n    } else {\n      console.error('Error: both neo4jData and neo4jDataUrl are empty!');\n    }\n  }\n\n  function initIconMap() {\n    Object.keys(options.iconMap).forEach(function(key, index) {\n      var keys = key.split(','),\n        value = options.iconMap[key];\n\n      keys.forEach(function(key) {\n        options.iconMap[key] = value;\n      });\n    });\n  }\n\n  function initImageMap() {\n    var key, keys, selector;\n\n    for (key in options.images) {\n      if (options.images.hasOwnProperty(key)) {\n        keys = key.split('|');\n\n        if (!options.imageMap[keys[0]]) {\n          options.imageMap[keys[0]] = [key];\n        } else {\n          options.imageMap[keys[0]].push(key);\n        }\n      }\n    }\n  }\n\n  function initSimulation() {\n    var simulation = d3.forceSimulation()\n//               .velocityDecay(0.8)\n//               .force('x', d3.force().strength(0.002))\n//               .force('y', d3.force().strength(0.002))\n               .force('collide', d3.forceCollide().radius(function(d) {\n                 return options.minCollision;\n               }).iterations(2))\n               .force('charge', d3.forceManyBody())\n               .force('link', d3.forceLink().id(function(d) {\n                 return d.id;\n               }))\n               .force('center', d3.forceCenter(svg.node().parentElement.parentElement.clientWidth / 2, svg.node().parentElement.parentElement.clientHeight / 2))\n               .on('tick', function() {\n                 tick();\n               })\n               .on('end', function() {\n                 if (options.zoomFit && !justLoaded) {\n                   justLoaded = true;\n                   zoomFit(2);\n                 }\n               });\n\n    return simulation;\n  }\n\n  function loadNeo4jData() {\n    nodes = [];\n    relationships = [];\n\n    updateWithNeo4jData(options.neo4jData);\n  }\n\n  function loadNeo4jDataFromUrl(neo4jDataUrl) {\n    nodes = [];\n    relationships = [];\n\n    d3.json(neo4jDataUrl, function(error, data) {\n      if (error) {\n        throw error;\n      }\n\n      updateWithNeo4jData(data);\n    });\n  }\n\n  function merge(target, source) {\n    Object.keys(source).forEach(function(property) {\n      target[property] = source[property];\n    });\n  }\n\n  function neo4jDataToD3Data(data) {\n    var graph = {\n      nodes: [],\n      relationships: []\n    };\n\n    data.results.forEach(function(result) {\n      result.data.forEach(function(data) {\n        data.graph.nodes.forEach(function(node) {\n          if (!contains(graph.nodes, node.id)) {\n            graph.nodes.push(node);\n          }\n        });\n\n        data.graph.relationships.forEach(function(relationship) {\n          relationship.source = relationship.startNode;\n          relationship.target = relationship.endNode;\n          graph.relationships.push(relationship);\n        });\n\n        data.graph.relationships.sort(function(a, b) {\n          if (a.source > b.source) {\n            return 1;\n          } else if (a.source < b.source) {\n            return -1;\n          } else {\n            if (a.target > b.target) {\n              return 1;\n            }\n\n            if (a.target < b.target) {\n              return -1;\n            } else {\n              return 0;\n            }\n          }\n        });\n\n        for (var i = 0; i < data.graph.relationships.length; i++) {\n          if (i !== 0 && data.graph.relationships[i].source === data.graph.relationships[i-1].source && data.graph.relationships[i].target === data.graph.relationships[i-1].target) {\n            data.graph.relationships[i].linknum = data.graph.relationships[i - 1].linknum + 1;\n          } else {\n            data.graph.relationships[i].linknum = 1;\n          }\n        }\n      });\n    });\n\n    return graph;\n  }\n\n  function randomD3Data(d, maxNodesToGenerate) {\n    var data = {\n        nodes: [],\n        relationships: []\n      },\n      i,\n      label,\n      node,\n      numNodes = (maxNodesToGenerate * Math.random() << 0) + 1,\n      relationship,\n      s = size();\n\n    for (i = 0; i < numNodes; i++) {\n      label = randomLabel();\n\n      node = {\n        id: s.nodes + 1 + i,\n        labels: [label],\n        properties: {\n          random: label\n        },\n        x: d.x,\n        y: d.y\n      };\n\n      data.nodes[data.nodes.length] = node;\n\n      relationship = {\n        id: s.relationships + 1 + i,\n        type: label.toUpperCase(),\n        startNode: d.id,\n        endNode: s.nodes + 1 + i,\n        properties: {\n          from: Date.now()\n        },\n        source: d.id,\n        target: s.nodes + 1 + i,\n        linknum: s.relationships + 1 + i\n      };\n\n      data.relationships[data.relationships.length] = relationship;\n    }\n\n    return data;\n  }\n\n  function randomLabel() {\n    var icons = Object.keys(options.iconMap);\n    return icons[icons.length * Math.random() << 0];\n  }\n\n  function rotate(cx, cy, x, y, angle) {\n    var radians = (Math.PI / 180) * angle,\n      cos = Math.cos(radians),\n      sin = Math.sin(radians),\n      nx = (cos * (x - cx)) + (sin * (y - cy)) + cx,\n      ny = (cos * (y - cy)) - (sin * (x - cx)) + cy;\n\n    return { x: nx, y: ny };\n  }\n\n  function rotatePoint(c, p, angle) {\n    return rotate(c.x, c.y, p.x, p.y, angle);\n  }\n\n  function rotation(source, target) {\n    return Math.atan2(target.y - source.y, target.x - source.x) * 180 / Math.PI;\n  }\n\n  function size() {\n    return {\n      nodes: nodes.length,\n      relationships: relationships.length\n    };\n  }\n/*\n  function smoothTransform(elem, translate, scale) {\n    var animationMilliseconds = 5000,\n      timeoutMilliseconds = 50,\n      steps = parseInt(animationMilliseconds / timeoutMilliseconds);\n\n    setTimeout(function() {\n      smoothTransformStep(elem, translate, scale, timeoutMilliseconds, 1, steps);\n    }, timeoutMilliseconds);\n  }\n\n  function smoothTransformStep(elem, translate, scale, timeoutMilliseconds, step, steps) {\n    var progress = step / steps;\n\n    elem.attr('transform', 'translate(' + (translate[0] * progress) + ', ' + (translate[1] * progress) + ') scale(' + (scale * progress) + ')');\n\n    if (step < steps) {\n      setTimeout(function() {\n        smoothTransformStep(elem, translate, scale, timeoutMilliseconds, step + 1, steps);\n      }, timeoutMilliseconds);\n    }\n  }\n*/\n  function stickNode(d) {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n  }\n\n  function tick() {\n    tickNodes();\n    tickRelationships();\n  }\n\n  function tickNodes() {\n    if (node) {\n      node.attr('transform', function(d) {\n        return 'translate(' + d.x + ', ' + d.y + ')';\n      });\n    }\n  }\n\n  function tickRelationships() {\n    if (relationship) {\n      relationship.attr('transform', function(d) {\n        var angle = rotation(d.source, d.target);\n        return 'translate(' + d.source.x + ', ' + d.source.y + ') rotate(' + angle + ')';\n      });\n\n      tickRelationshipsTexts();\n      tickRelationshipsOutlines();\n      tickRelationshipsOverlays();\n    }\n  }\n\n  function tickRelationshipsOutlines() {\n    relationship.each(function(relationship) {\n      var rel = d3.select(this),\n        outline = rel.select('.outline'),\n        text = rel.select('.text'),\n        bbox = text.node().getBBox(),\n        padding = 3;\n\n      outline.attr('d', function(d) {\n        var center = { x: 0, y: 0 },\n          angle = rotation(d.source, d.target),\n          textBoundingBox = text.node().getBBox(),\n          textPadding = 5,\n          u = unitaryVector(d.source, d.target),\n          textMargin = { x: (d.target.x - d.source.x - (textBoundingBox.width + textPadding) * u.x) * 0.5, y: (d.target.y - d.source.y - (textBoundingBox.width + textPadding) * u.y) * 0.5 },\n          n = unitaryNormalVector(d.source, d.target),\n          rotatedPointA1 = rotatePoint(center, { x: 0 + (options.nodeRadius + 1) * u.x - n.x, y: 0 + (options.nodeRadius + 1) * u.y - n.y }, angle),\n          rotatedPointB1 = rotatePoint(center, { x: textMargin.x - n.x, y: textMargin.y - n.y }, angle),\n          rotatedPointC1 = rotatePoint(center, { x: textMargin.x, y: textMargin.y }, angle),\n          rotatedPointD1 = rotatePoint(center, { x: 0 + (options.nodeRadius + 1) * u.x, y: 0 + (options.nodeRadius + 1) * u.y }, angle),\n          rotatedPointA2 = rotatePoint(center, { x: d.target.x - d.source.x - textMargin.x - n.x, y: d.target.y - d.source.y - textMargin.y - n.y }, angle),\n          rotatedPointB2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - n.x - u.x * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - n.y - u.y * options.arrowSize }, angle),\n          rotatedPointC2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - n.x + (n.x - u.x) * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - n.y + (n.y - u.y) * options.arrowSize }, angle),\n          rotatedPointD2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y }, angle),\n          rotatedPointE2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x + (- n.x - u.x) * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y + (- n.y - u.y) * options.arrowSize }, angle),\n          rotatedPointF2 = rotatePoint(center, { x: d.target.x - d.source.x - (options.nodeRadius + 1) * u.x - u.x * options.arrowSize, y: d.target.y - d.source.y - (options.nodeRadius + 1) * u.y - u.y * options.arrowSize }, angle),\n          rotatedPointG2 = rotatePoint(center, { x: d.target.x - d.source.x - textMargin.x, y: d.target.y - d.source.y - textMargin.y }, angle);\n\n        return 'M ' + rotatedPointA1.x + ' ' + rotatedPointA1.y +\n             ' L ' + rotatedPointB1.x + ' ' + rotatedPointB1.y +\n             ' L ' + rotatedPointC1.x + ' ' + rotatedPointC1.y +\n             ' L ' + rotatedPointD1.x + ' ' + rotatedPointD1.y +\n             ' Z M ' + rotatedPointA2.x + ' ' + rotatedPointA2.y +\n             ' L ' + rotatedPointB2.x + ' ' + rotatedPointB2.y +\n             ' L ' + rotatedPointC2.x + ' ' + rotatedPointC2.y +\n             ' L ' + rotatedPointD2.x + ' ' + rotatedPointD2.y +\n             ' L ' + rotatedPointE2.x + ' ' + rotatedPointE2.y +\n             ' L ' + rotatedPointF2.x + ' ' + rotatedPointF2.y +\n             ' L ' + rotatedPointG2.x + ' ' + rotatedPointG2.y +\n             ' Z';\n      });\n    });\n  }\n\n  function tickRelationshipsOverlays() {\n    relationshipOverlay.attr('d', function(d) {\n      var center = { x: 0, y: 0 },\n        angle = rotation(d.source, d.target),\n        n1 = unitaryNormalVector(d.source, d.target),\n        n = unitaryNormalVector(d.source, d.target, 50),\n        rotatedPointA = rotatePoint(center, { x: 0 - n.x, y: 0 - n.y }, angle),\n        rotatedPointB = rotatePoint(center, { x: d.target.x - d.source.x - n.x, y: d.target.y - d.source.y - n.y }, angle),\n        rotatedPointC = rotatePoint(center, { x: d.target.x - d.source.x + n.x - n1.x, y: d.target.y - d.source.y + n.y - n1.y }, angle),\n        rotatedPointD = rotatePoint(center, { x: 0 + n.x - n1.x, y: 0 + n.y - n1.y }, angle);\n\n      return 'M ' + rotatedPointA.x + ' ' + rotatedPointA.y +\n           ' L ' + rotatedPointB.x + ' ' + rotatedPointB.y +\n           ' L ' + rotatedPointC.x + ' ' + rotatedPointC.y +\n           ' L ' + rotatedPointD.x + ' ' + rotatedPointD.y +\n           ' Z';\n    });\n  }\n\n  function tickRelationshipsTexts() {\n    relationshipText.attr('transform', function(d) {\n      var angle = (rotation(d.source, d.target) + 360) % 360,\n        mirror = angle > 90 && angle < 270,\n        center = { x: 0, y: 0 },\n        n = unitaryNormalVector(d.source, d.target),\n        nWeight = mirror ? 2 : -3,\n        point = { x: (d.target.x - d.source.x) * 0.5 + n.x * nWeight, y: (d.target.y - d.source.y) * 0.5 + n.y * nWeight },\n        rotatedPoint = rotatePoint(center, point, angle);\n\n      return 'translate(' + rotatedPoint.x + ', ' + rotatedPoint.y + ') rotate(' + (mirror ? 180 : 0) + ')';\n    });\n  }\n\n  function toString(d) {\n    var s = d.labels ? d.labels[0] : d.type;\n\n    s += ' (<id>: ' + d.id;\n\n    Object.keys(d.properties).forEach(function(property) {\n      s += ', ' + property + ': ' + JSON.stringify(d.properties[property]);\n    });\n\n    s += ')';\n\n    return s;\n  }\n\n  function unitaryNormalVector(source, target, newLength) {\n    var center = { x: 0, y: 0 },\n      vector = unitaryVector(source, target, newLength);\n\n    return rotatePoint(center, vector, 90);\n  }\n\n  function unitaryVector(source, target, newLength) {\n    var length = Math.sqrt(Math.pow(target.x - source.x, 2) + Math.pow(target.y - source.y, 2)) / Math.sqrt(newLength || 1);\n\n    return {\n      x: (target.x - source.x) / length,\n      y: (target.y - source.y) / length,\n    };\n  }\n\n  function updateWithD3Data(d3Data) {\n    updateNodesAndRelationships(d3Data.nodes, d3Data.relationships);\n  }\n\n  function updateWithNeo4jData(neo4jData) {\n    var d3Data = neo4jDataToD3Data(neo4jData);\n    updateWithD3Data(d3Data);\n  }\n\n  function updateInfo(d) {\n    clearInfo();\n\n    if (d.labels) {\n      appendInfoElementClass('class', d.labels[0]);\n    } else {\n      appendInfoElementRelationship('class', d.type);\n    }\n\n    appendInfoElementProperty('property', '&lt;id&gt;', d.id);\n\n    Object.keys(d.properties).forEach(function(property) {\n      appendInfoElementProperty('property', property, JSON.stringify(d.properties[property]));\n    });\n  }\n\n  function updateNodes(n) {\n    Array.prototype.push.apply(nodes, n);\n\n    node = svgNodes.selectAll('.node')\n             .data(nodes, function(d) { return d.id; });\n    var nodeEnter = appendNodeToGraph();\n    node = nodeEnter.merge(node);\n  }\n\n  function updateNodesAndRelationships(n, r) {\n    updateRelationships(r);\n    updateNodes(n);\n\n    simulation.nodes(nodes);\n    simulation.force('link').links(relationships);\n  }\n\n  function updateRelationships(r) {\n    Array.prototype.push.apply(relationships, r);\n\n    relationship = svgRelationships.selectAll('.relationship')\n                     .data(relationships, function(d) { return d.id; });\n\n    var relationshipEnter = appendRelationshipToGraph();\n\n    relationship = relationshipEnter.relationship.merge(relationship);\n\n    relationshipOutline = svg.selectAll('.relationship .outline');\n    relationshipOutline = relationshipEnter.outline.merge(relationshipOutline);\n\n    relationshipOverlay = svg.selectAll('.relationship .overlay');\n    relationshipOverlay = relationshipEnter.overlay.merge(relationshipOverlay);\n\n    relationshipText = svg.selectAll('.relationship .text');\n    relationshipText = relationshipEnter.text.merge(relationshipText);\n  }\n\n  function version() {\n    return VERSION;\n  }\n\n  function zoomFit(transitionDuration) {\n    var bounds = svg.node().getBBox(),\n      parent = svg.node().parentElement.parentElement,\n      fullWidth = parent.clientWidth,\n      fullHeight = parent.clientHeight,\n      width = bounds.width,\n      height = bounds.height,\n      midX = bounds.x + width / 2,\n      midY = bounds.y + height / 2;\n\n    if (width === 0 || height === 0) {\n      return; // nothing to fit\n    }\n\n    svgScale = 0.85 / Math.max(width / fullWidth, height / fullHeight);\n    svgTranslate = [fullWidth / 2 - svgScale * midX, fullHeight / 2 - svgScale * midY];\n\n    svg.attr('transform', 'translate(' + svgTranslate[0] + ', ' + svgTranslate[1] + ') scale(' + svgScale + ')');\n//    smoothTransform(svgTranslate, svgScale);\n  }\n\n  init(_selector, _options);\n\n  return {\n    appendRandomDataToNode: appendRandomDataToNode,\n    neo4jDataToD3Data: neo4jDataToD3Data,\n    randomD3Data: randomD3Data,\n    size: size,\n    updateWithD3Data: updateWithD3Data,\n    updateWithNeo4jData: updateWithNeo4jData,\n    version: version\n  };\n}\n\nmodule.exports = Neo4jD3;\n"],"mappings":"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"}