{"version":3,"file":"neo4jd3.js","names":["d3","Neo4jD3","selector","_options","container","graph","node","nodes","relationship","relationships","simulation","svg","options","colors","schemeTableau10","neo4jData","undefined","neo4jDataUrl","VERSION","init","version","color","length","Math","random","defaultColor","defaultEdgeColor","edgeColor","d","legend","type","nodeColor","n","labels","merge","target","source","Object","keys","forEach","property","contains","array","id","filter","elem","size","neo4jDataToD3Data","data","results","result","push","startNode","endNode","sort","a","b","i","linknum","_types","links","Array","from","Set","map","linkArc","r","hypot","x","y","drag","dragstarted","event","active","alphaTarget","restart","fx","fy","dragged","dragended","on","_links","hasOwnProperty","select","attr","html","types","append","forceSimulation","force","forceManyBody","strength","forceLink","forceCenter","parentElement","clientWidth","clientHeight","link","selectAll","join","call","text","clone","lower"],"sources":["../src/scripts/neo4jd3.js"],"sourcesContent":["/* global d3, document */\n/* jshint latedef:nofunc */\n\"use strict\";\n\nimport * as d3 from \"d3\";\n\nexport default function Neo4jD3(selector, _options) {\n  var container,\n    graph,\n    node,\n    nodes,\n    relationship,\n    relationships,\n    selector,\n    simulation,\n    svg,\n    options = {\n      colors: d3.schemeTableau10,\n      neo4jData: undefined,\n      neo4jDataUrl: undefined,\n    },\n    VERSION = \"0.1.0\";\n\n  init(selector, _options);\n\n  function version() {\n    return VERSION;\n  }\n\n  function colors() {\n    // oneDark inspired by distrotube (dt)\n    return [\n      \"#1c1f24\", // black\n      \"#ff6c6b\", // red\n      \"#98be65\", // green\n      \"#da8548\", // yellow\n      \"#51afef\", // blue\n      \"#c678dd\", // magenta\n      \"#5699af\", // cyan\n      \"#a7b1b7\", // white\n      \"#5b6268\", // brighter black\n      \"#da8548\", // brighter red\n      \"#4db5bd\", // brighter green\n      \"#ecbe7b\", // brighter yellow\n      \"#3071db\", // brighter blue\n      \"#a9a1e1\", // brighter magenta\n      \"#46d9ff\", // brighter cyan\n      \"#dfdfdf\", // brighter white\n    ];\n  }\n\n  function color() {\n    return options.colors[(options.colors.length * Math.random()) << 0];\n  }\n  function defaultColor() {\n    return options.colors[4];\n  }\n  function defaultEdgeColor() {\n    return options.colors[0];\n  }\n  function edgeColor(d) {\n    return options.colors[options?.legend[d.type]];\n  }\n  function nodeColor(n) {\n    return options.colors[options?.legend[n.labels[0]]];\n  }\n\n  function merge(target, source) {\n    Object.keys(source).forEach(function (property) {\n      target[property] = source[property];\n    });\n  }\n\n  function contains(array, id) {\n    var filter = array.filter(function (elem) {\n      return elem.id === id;\n    });\n    return filter.length > 0;\n  }\n\n  function size() {\n    return {\n      nodes: nodes.length,\n      relationships: relationships.length,\n    };\n  }\n\n  function neo4jDataToD3Data(data) {\n    var graph = {\n      nodes: [],\n      relationships: [],\n    };\n    data.results.forEach(function (result) {\n      result.data.forEach(function (data) {\n        data.graph.nodes.forEach(function (node) {\n          if (!contains(graph.nodes, node.id)) {\n            graph.nodes.push(node);\n          }\n        });\n        data.graph.relationships.forEach(function (relationship) {\n          relationship.source = relationship.startNode;\n          relationship.target = relationship.endNode;\n          graph.relationships.push(relationship);\n        });\n        data.graph.relationships.sort(function (a, b) {\n          if (a.source > b.source) {\n            return 1;\n          } else if (a.source < b.source) {\n            return -1;\n          } else {\n            if (a.target > b.target) {\n              return 1;\n            }\n            if (a.target < b.target) {\n              return -1;\n            } else {\n              return 0;\n            }\n          }\n        });\n        for (var i = 0; i < data.graph.relationships.length; i++) {\n          if (\n            i !== 0 &&\n            data.graph.relationships[i].source ===\n              data.graph.relationships[i - 1].source &&\n            data.graph.relationships[i].target ===\n              data.graph.relationships[i - 1].target\n          ) {\n            data.graph.relationships[i].linknum =\n              data.graph.relationships[i - 1].linknum + 1;\n          } else {\n            data.graph.relationships[i].linknum = 1;\n          }\n        }\n      });\n    });\n    return graph;\n  }\n\n  function _types(links) {\n    return Array.from(new Set(links.map((d) => d.type)));\n  }\n\n  function linkArc(d) {\n    const r =\n      Math.hypot(d.target.x - d.source.x, d.target.y - d.source.y) / d.linknum;\n    return `\n    M${d.source.x},${d.source.y}\n    A${r},${r} 0 0,1 ${d.target.x},${d.target.y}\n  `;\n  }\n\n  function drag(simulation) {\n    function dragstarted(event, d) {\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }\n    function dragged(event, d) {\n      d.fx = event.x;\n      d.fy = event.y;\n    }\n    function dragended(event, d) {\n      if (!event.active) simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }\n    return d3\n      .drag()\n      .on(\"start\", dragstarted)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragended);\n  }\n\n  function _links(links) {\n    for (var i = 0; i < links.length; i++) {\n      if (\n        i != 0 &&\n        links[i].source == links[i - 1].source &&\n        links[i].target == links[i - 1].target\n      ) {\n        links[i].linknum = links[i - 1].linknum + 1;\n      } else {\n        links[i].linknum = 1;\n      }\n    }\n    return links;\n  }\n\n  function init(selector, _options) {\n    merge(options, _options);\n    if (options.hasOwnProperty(\"neo4jData\")) {\n      const data = neo4jDataToD3Data(options.neo4jData);\n      const container = d3.select(selector);\n      container.attr(\"class\", \"neo4jd3\").html(\"\");\n      const links = _links(data.relationships);\n\n      const nodes = data.nodes;\n      const types = _types(links);\n      const svg = container\n        .append(\"svg\")\n        .attr(\"width\", \"100%\")\n        .attr(\"height\", \"100%\")\n        .attr(\"class\", \"neo4jd3-graph\");\n\n      const simulation = d3\n        .forceSimulation(nodes)\n        .force(\"charge\", d3.forceManyBody().strength(-50))\n        .force(\n          \"link\",\n          d3.forceLink(links).id(function (d) {\n            return d.id;\n          })\n        )\n        .force(\n          \"center\",\n          d3.forceCenter(\n            svg.node().parentElement.parentElement.clientWidth / 2,\n            svg.node().parentElement.parentElement.clientHeight / 2\n          )\n        );\n\n      const link = svg\n        .append(\"g\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke-width\", 1.5)\n        .selectAll(\"path\")\n        .data(links)\n        .join(\"path\")\n        .attr(\"stroke\", (d) => edgeColor(d));\n      const node = svg\n        .append(\"g\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(\"stroke-linecap\", \"round\")\n        .attr(\"stroke-linejoin\", \"round\")\n        .attr(\"cursor\", \"pointer\")\n        .selectAll(\"g\")\n        .data(nodes)\n        .join(\"g\")\n        .call(drag(simulation));\n      node\n        .append(\"circle\")\n        .attr(\"stroke\", \"white\")\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"fill\", (d) => nodeColor(d))\n        .attr(\"r\", 4);\n      node\n        .append(\"text\")\n        .attr(\"x\", 8)\n        .attr(\"y\", \"0.3em\")\n        .text((d) => d.labels.hasOwnProperty(\"0\") && d.labels[0])\n        .attr(\"font-size\", \"smaller\")\n        .clone(true)\n        .lower()\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"white\")\n        .attr(\"stroke-width\", 3);\n\n      simulation.on(\"tick\", function () {\n        link.attr(\"d\", linkArc);\n        node.attr(\"transform\", (d) => `translate(${d.x},${d.y})`);\n      });\n    }\n  }\n\n  return {\n    neo4jDataToD3Data: neo4jDataToD3Data,\n    size: size,\n    version: version,\n  };\n}\n"],"mappings":"AAAA;;AACA;AACA;;AAEA,OAAO,KAAKA,EAAZ,MAAoB,IAApB;AAEA,eAAe,SAASC,OAAT,CAAiBC,QAAjB,EAA2BC,QAA3B,EAAqC;EAClD,IAAIC,SAAJ;EAAA,IACEC,KADF;EAAA,IAEEC,IAFF;EAAA,IAGEC,KAHF;EAAA,IAIEC,YAJF;EAAA,IAKEC,aALF;EAAA,IAMEP,QANF;EAAA,IAOEQ,UAPF;EAAA,IAQEC,GARF;EAAA,IASEC,OAAO,GAAG;IACRC,MAAM,EAAEb,EAAE,CAACc,eADH;IAERC,SAAS,EAAEC,SAFH;IAGRC,YAAY,EAAED;EAHN,CATZ;EAAA,IAcEE,OAAO,GAAG,OAdZ;EAgBAC,IAAI,CAACjB,QAAD,EAAWC,QAAX,CAAJ;;EAEA,SAASiB,OAAT,GAAmB;IACjB,OAAOF,OAAP;EACD;;EAED,SAASL,MAAT,GAAkB;IAChB;IACA,OAAO,CACL,SADK,EACM;IACX,SAFK,EAEM;IACX,SAHK,EAGM;IACX,SAJK,EAIM;IACX,SALK,EAKM;IACX,SANK,EAMM;IACX,SAPK,EAOM;IACX,SARK,EAQM;IACX,SATK,EASM;IACX,SAVK,EAUM;IACX,SAXK,EAWM;IACX,SAZK,EAYM;IACX,SAbK,EAaM;IACX,SAdK,EAcM;IACX,SAfK,EAeM;IACX,SAhBK,CAgBM;IAhBN,CAAP;EAkBD;;EAED,SAASQ,KAAT,GAAiB;IACf,OAAOT,OAAO,CAACC,MAAR,CAAgBD,OAAO,CAACC,MAAR,CAAeS,MAAf,GAAwBC,IAAI,CAACC,MAAL,EAAzB,IAA2C,CAA1D,CAAP;EACD;;EACD,SAASC,YAAT,GAAwB;IACtB,OAAOb,OAAO,CAACC,MAAR,CAAe,CAAf,CAAP;EACD;;EACD,SAASa,gBAAT,GAA4B;IAC1B,OAAOd,OAAO,CAACC,MAAR,CAAe,CAAf,CAAP;EACD;;EACD,SAASc,SAAT,CAAmBC,CAAnB,EAAsB;IACpB,OAAOhB,OAAO,CAACC,MAAR,CAAeD,OAAO,EAAEiB,MAAT,CAAgBD,CAAC,CAACE,IAAlB,CAAf,CAAP;EACD;;EACD,SAASC,SAAT,CAAmBC,CAAnB,EAAsB;IACpB,OAAOpB,OAAO,CAACC,MAAR,CAAeD,OAAO,EAAEiB,MAAT,CAAgBG,CAAC,CAACC,MAAF,CAAS,CAAT,CAAhB,CAAf,CAAP;EACD;;EAED,SAASC,KAAT,CAAeC,MAAf,EAAuBC,MAAvB,EAA+B;IAC7BC,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,OAApB,CAA4B,UAAUC,QAAV,EAAoB;MAC9CL,MAAM,CAACK,QAAD,CAAN,GAAmBJ,MAAM,CAACI,QAAD,CAAzB;IACD,CAFD;EAGD;;EAED,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,EAAzB,EAA6B;IAC3B,IAAIC,MAAM,GAAGF,KAAK,CAACE,MAAN,CAAa,UAAUC,IAAV,EAAgB;MACxC,OAAOA,IAAI,CAACF,EAAL,KAAYA,EAAnB;IACD,CAFY,CAAb;IAGA,OAAOC,MAAM,CAACtB,MAAP,GAAgB,CAAvB;EACD;;EAED,SAASwB,IAAT,GAAgB;IACd,OAAO;MACLvC,KAAK,EAAEA,KAAK,CAACe,MADR;MAELb,aAAa,EAAEA,aAAa,CAACa;IAFxB,CAAP;EAID;;EAED,SAASyB,iBAAT,CAA2BC,IAA3B,EAAiC;IAC/B,IAAI3C,KAAK,GAAG;MACVE,KAAK,EAAE,EADG;MAEVE,aAAa,EAAE;IAFL,CAAZ;IAIAuC,IAAI,CAACC,OAAL,CAAaV,OAAb,CAAqB,UAAUW,MAAV,EAAkB;MACrCA,MAAM,CAACF,IAAP,CAAYT,OAAZ,CAAoB,UAAUS,IAAV,EAAgB;QAClCA,IAAI,CAAC3C,KAAL,CAAWE,KAAX,CAAiBgC,OAAjB,CAAyB,UAAUjC,IAAV,EAAgB;UACvC,IAAI,CAACmC,QAAQ,CAACpC,KAAK,CAACE,KAAP,EAAcD,IAAI,CAACqC,EAAnB,CAAb,EAAqC;YACnCtC,KAAK,CAACE,KAAN,CAAY4C,IAAZ,CAAiB7C,IAAjB;UACD;QACF,CAJD;QAKA0C,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyB8B,OAAzB,CAAiC,UAAU/B,YAAV,EAAwB;UACvDA,YAAY,CAAC4B,MAAb,GAAsB5B,YAAY,CAAC4C,SAAnC;UACA5C,YAAY,CAAC2B,MAAb,GAAsB3B,YAAY,CAAC6C,OAAnC;UACAhD,KAAK,CAACI,aAAN,CAAoB0C,IAApB,CAAyB3C,YAAzB;QACD,CAJD;QAKAwC,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyB6C,IAAzB,CAA8B,UAAUC,CAAV,EAAaC,CAAb,EAAgB;UAC5C,IAAID,CAAC,CAACnB,MAAF,GAAWoB,CAAC,CAACpB,MAAjB,EAAyB;YACvB,OAAO,CAAP;UACD,CAFD,MAEO,IAAImB,CAAC,CAACnB,MAAF,GAAWoB,CAAC,CAACpB,MAAjB,EAAyB;YAC9B,OAAO,CAAC,CAAR;UACD,CAFM,MAEA;YACL,IAAImB,CAAC,CAACpB,MAAF,GAAWqB,CAAC,CAACrB,MAAjB,EAAyB;cACvB,OAAO,CAAP;YACD;;YACD,IAAIoB,CAAC,CAACpB,MAAF,GAAWqB,CAAC,CAACrB,MAAjB,EAAyB;cACvB,OAAO,CAAC,CAAR;YACD,CAFD,MAEO;cACL,OAAO,CAAP;YACD;UACF;QACF,CAfD;;QAgBA,KAAK,IAAIsB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyBa,MAA7C,EAAqDmC,CAAC,EAAtD,EAA0D;UACxD,IACEA,CAAC,KAAK,CAAN,IACAT,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyBgD,CAAzB,EAA4BrB,MAA5B,KACEY,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyBgD,CAAC,GAAG,CAA7B,EAAgCrB,MAFlC,IAGAY,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyBgD,CAAzB,EAA4BtB,MAA5B,KACEa,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyBgD,CAAC,GAAG,CAA7B,EAAgCtB,MALpC,EAME;YACAa,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyBgD,CAAzB,EAA4BC,OAA5B,GACEV,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyBgD,CAAC,GAAG,CAA7B,EAAgCC,OAAhC,GAA0C,CAD5C;UAED,CATD,MASO;YACLV,IAAI,CAAC3C,KAAL,CAAWI,aAAX,CAAyBgD,CAAzB,EAA4BC,OAA5B,GAAsC,CAAtC;UACD;QACF;MACF,CAzCD;IA0CD,CA3CD;IA4CA,OAAOrD,KAAP;EACD;;EAED,SAASsD,MAAT,CAAgBC,KAAhB,EAAuB;IACrB,OAAOC,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQH,KAAK,CAACI,GAAN,CAAWpC,CAAD,IAAOA,CAAC,CAACE,IAAnB,CAAR,CAAX,CAAP;EACD;;EAED,SAASmC,OAAT,CAAiBrC,CAAjB,EAAoB;IAClB,MAAMsC,CAAC,GACL3C,IAAI,CAAC4C,KAAL,CAAWvC,CAAC,CAACO,MAAF,CAASiC,CAAT,GAAaxC,CAAC,CAACQ,MAAF,CAASgC,CAAjC,EAAoCxC,CAAC,CAACO,MAAF,CAASkC,CAAT,GAAazC,CAAC,CAACQ,MAAF,CAASiC,CAA1D,IAA+DzC,CAAC,CAAC8B,OADnE;IAEA,OAAQ;AACZ,OAAO9B,CAAC,CAACQ,MAAF,CAASgC,CAAE,IAAGxC,CAAC,CAACQ,MAAF,CAASiC,CAAE;AAChC,OAAOH,CAAE,IAAGA,CAAE,UAAStC,CAAC,CAACO,MAAF,CAASiC,CAAE,IAAGxC,CAAC,CAACO,MAAF,CAASkC,CAAE;AAChD,GAHI;EAID;;EAED,SAASC,IAAT,CAAc5D,UAAd,EAA0B;IACxB,SAAS6D,WAAT,CAAqBC,KAArB,EAA4B5C,CAA5B,EAA+B;MAC7B,IAAI,CAAC4C,KAAK,CAACC,MAAX,EAAmB/D,UAAU,CAACgE,WAAX,CAAuB,GAAvB,EAA4BC,OAA5B;MACnB/C,CAAC,CAACgD,EAAF,GAAOhD,CAAC,CAACwC,CAAT;MACAxC,CAAC,CAACiD,EAAF,GAAOjD,CAAC,CAACyC,CAAT;IACD;;IACD,SAASS,OAAT,CAAiBN,KAAjB,EAAwB5C,CAAxB,EAA2B;MACzBA,CAAC,CAACgD,EAAF,GAAOJ,KAAK,CAACJ,CAAb;MACAxC,CAAC,CAACiD,EAAF,GAAOL,KAAK,CAACH,CAAb;IACD;;IACD,SAASU,SAAT,CAAmBP,KAAnB,EAA0B5C,CAA1B,EAA6B;MAC3B,IAAI,CAAC4C,KAAK,CAACC,MAAX,EAAmB/D,UAAU,CAACgE,WAAX,CAAuB,CAAvB;MACnB9C,CAAC,CAACgD,EAAF,GAAO,IAAP;MACAhD,CAAC,CAACiD,EAAF,GAAO,IAAP;IACD;;IACD,OAAO7E,EAAE,CACNsE,IADI,GAEJU,EAFI,CAED,OAFC,EAEQT,WAFR,EAGJS,EAHI,CAGD,MAHC,EAGOF,OAHP,EAIJE,EAJI,CAID,KAJC,EAIMD,SAJN,CAAP;EAKD;;EAED,SAASE,MAAT,CAAgBrB,KAAhB,EAAuB;IACrB,KAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGG,KAAK,CAACtC,MAA1B,EAAkCmC,CAAC,EAAnC,EAAuC;MACrC,IACEA,CAAC,IAAI,CAAL,IACAG,KAAK,CAACH,CAAD,CAAL,CAASrB,MAAT,IAAmBwB,KAAK,CAACH,CAAC,GAAG,CAAL,CAAL,CAAarB,MADhC,IAEAwB,KAAK,CAACH,CAAD,CAAL,CAAStB,MAAT,IAAmByB,KAAK,CAACH,CAAC,GAAG,CAAL,CAAL,CAAatB,MAHlC,EAIE;QACAyB,KAAK,CAACH,CAAD,CAAL,CAASC,OAAT,GAAmBE,KAAK,CAACH,CAAC,GAAG,CAAL,CAAL,CAAaC,OAAb,GAAuB,CAA1C;MACD,CAND,MAMO;QACLE,KAAK,CAACH,CAAD,CAAL,CAASC,OAAT,GAAmB,CAAnB;MACD;IACF;;IACD,OAAOE,KAAP;EACD;;EAED,SAASzC,IAAT,CAAcjB,QAAd,EAAwBC,QAAxB,EAAkC;IAChC+B,KAAK,CAACtB,OAAD,EAAUT,QAAV,CAAL;;IACA,IAAIS,OAAO,CAACsE,cAAR,CAAuB,WAAvB,CAAJ,EAAyC;MACvC,MAAMlC,IAAI,GAAGD,iBAAiB,CAACnC,OAAO,CAACG,SAAT,CAA9B;MACA,MAAMX,SAAS,GAAGJ,EAAE,CAACmF,MAAH,CAAUjF,QAAV,CAAlB;MACAE,SAAS,CAACgF,IAAV,CAAe,OAAf,EAAwB,SAAxB,EAAmCC,IAAnC,CAAwC,EAAxC;;MACA,MAAMzB,KAAK,GAAGqB,MAAM,CAACjC,IAAI,CAACvC,aAAN,CAApB;;MAEA,MAAMF,KAAK,GAAGyC,IAAI,CAACzC,KAAnB;;MACA,MAAM+E,KAAK,GAAG3B,MAAM,CAACC,KAAD,CAApB;;MACA,MAAMjD,GAAG,GAAGP,SAAS,CAClBmF,MADS,CACF,KADE,EAETH,IAFS,CAEJ,OAFI,EAEK,MAFL,EAGTA,IAHS,CAGJ,QAHI,EAGM,MAHN,EAITA,IAJS,CAIJ,OAJI,EAIK,eAJL,CAAZ;MAMA,MAAM1E,UAAU,GAAGV,EAAE,CAClBwF,eADgB,CACAjF,KADA,EAEhBkF,KAFgB,CAEV,QAFU,EAEAzF,EAAE,CAAC0F,aAAH,GAAmBC,QAAnB,CAA4B,CAAC,EAA7B,CAFA,EAGhBF,KAHgB,CAIf,MAJe,EAKfzF,EAAE,CAAC4F,SAAH,CAAahC,KAAb,EAAoBjB,EAApB,CAAuB,UAAUf,CAAV,EAAa;QAClC,OAAOA,CAAC,CAACe,EAAT;MACD,CAFD,CALe,EAShB8C,KATgB,CAUf,QAVe,EAWfzF,EAAE,CAAC6F,WAAH,CACElF,GAAG,CAACL,IAAJ,GAAWwF,aAAX,CAAyBA,aAAzB,CAAuCC,WAAvC,GAAqD,CADvD,EAEEpF,GAAG,CAACL,IAAJ,GAAWwF,aAAX,CAAyBA,aAAzB,CAAuCE,YAAvC,GAAsD,CAFxD,CAXe,CAAnB;MAiBA,MAAMC,IAAI,GAAGtF,GAAG,CACb4E,MADU,CACH,GADG,EAEVH,IAFU,CAEL,MAFK,EAEG,MAFH,EAGVA,IAHU,CAGL,cAHK,EAGW,GAHX,EAIVc,SAJU,CAIA,MAJA,EAKVlD,IALU,CAKLY,KALK,EAMVuC,IANU,CAML,MANK,EAOVf,IAPU,CAOL,QAPK,EAOMxD,CAAD,IAAOD,SAAS,CAACC,CAAD,CAPrB,CAAb;MAQA,MAAMtB,IAAI,GAAGK,GAAG,CACb4E,MADU,CACH,GADG,EAEVH,IAFU,CAEL,MAFK,EAEG,cAFH,EAGVA,IAHU,CAGL,gBAHK,EAGa,OAHb,EAIVA,IAJU,CAIL,iBAJK,EAIc,OAJd,EAKVA,IALU,CAKL,QALK,EAKK,SALL,EAMVc,SANU,CAMA,GANA,EAOVlD,IAPU,CAOLzC,KAPK,EAQV4F,IARU,CAQL,GARK,EASVC,IATU,CASL9B,IAAI,CAAC5D,UAAD,CATC,CAAb;MAUAJ,IAAI,CACDiF,MADH,CACU,QADV,EAEGH,IAFH,CAEQ,QAFR,EAEkB,OAFlB,EAGGA,IAHH,CAGQ,cAHR,EAGwB,GAHxB,EAIGA,IAJH,CAIQ,MAJR,EAIiBxD,CAAD,IAAOG,SAAS,CAACH,CAAD,CAJhC,EAKGwD,IALH,CAKQ,GALR,EAKa,CALb;MAMA9E,IAAI,CACDiF,MADH,CACU,MADV,EAEGH,IAFH,CAEQ,GAFR,EAEa,CAFb,EAGGA,IAHH,CAGQ,GAHR,EAGa,OAHb,EAIGiB,IAJH,CAISzE,CAAD,IAAOA,CAAC,CAACK,MAAF,CAASiD,cAAT,CAAwB,GAAxB,KAAgCtD,CAAC,CAACK,MAAF,CAAS,CAAT,CAJ/C,EAKGmD,IALH,CAKQ,WALR,EAKqB,SALrB,EAMGkB,KANH,CAMS,IANT,EAOGC,KAPH,GAQGnB,IARH,CAQQ,MARR,EAQgB,MARhB,EASGA,IATH,CASQ,QATR,EASkB,OATlB,EAUGA,IAVH,CAUQ,cAVR,EAUwB,CAVxB;MAYA1E,UAAU,CAACsE,EAAX,CAAc,MAAd,EAAsB,YAAY;QAChCiB,IAAI,CAACb,IAAL,CAAU,GAAV,EAAenB,OAAf;QACA3D,IAAI,CAAC8E,IAAL,CAAU,WAAV,EAAwBxD,CAAD,IAAQ,aAAYA,CAAC,CAACwC,CAAE,IAAGxC,CAAC,CAACyC,CAAE,GAAtD;MACD,CAHD;IAID;EACF;;EAED,OAAO;IACLtB,iBAAiB,EAAEA,iBADd;IAELD,IAAI,EAAEA,IAFD;IAGL1B,OAAO,EAAEA;EAHJ,CAAP;AAKD"}